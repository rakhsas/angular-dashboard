<div class="main-content">
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-12">
				<div class="card">
					<div class="card-body">
						<mat-tab-group mat-stretch-tabs="false" mat-align-tabs="start">
							<mat-tab label="Departements">
								<table class="table">
									<thead>
										<tr>
											<th class="text-center">#</th>
											<th>Nom</th>
											<th>Type</th>
											<th>Parent Departement</th>
										</tr>
									</thead>
									<tbody>
										<tr *ngFor="let Departement of Departements">
											<td class="text-center">{{Departement.departementId}}</td>
											<td>{{Departement.nom}}</td>
											<td>{{Departement.type}}</td>
											<td><span *ngIf="Departement.parent">{{Departement.parent.nom}}</span></td>
										</tr>
									</tbody>
								</table>
							</mat-tab>
							<mat-tab label="Chercher un Departement">
									<form (submit)="onSubmit()">
										<div class="card-content">
											<div class="form-group col-md-6">
												<label class="control-label">Departement Id
													<span class="star">*</span>
												</label>
												<input class="form-control" name="id" type="number" [(ngModel)]="id" required="true"/>
											</div>
											<div class="category form-category">
												<span class="star">*</span> Required fields</div>
											<div class="text-center">
												<button type="submit" class="btn btn-fill btn-wd" style="background-color: red;">Chercher</button>
											</div>
										</div>
									</form>
									<table class="table" *ngIf="Departement">
										<thead>
											<tr>
												<th class="text-center">#</th>
												<th>Nom</th>
												<th>Type</th>
												<th>Parent Departement</th>
											</tr>
										</thead>
										<tbody>
											<tr>
												<td class="text-center">{{Departement.departementId}}</td>
												<td>{{Departement.nom}}</td>
												<td>{{Departement.type}}</td>
												<td>{{Departement.parent}}</td>
											</tr>
										</tbody>
									</table>
							</mat-tab>
							<mat-tab label="Ajouter Departement">
								<form [formGroup]="departementForm" (ngSubmit)="onAdd(departementForm.value)">
									<div class="card-content">
										<div class="row">
											<div class="form-group col-md-4">
												<label class="control-label">Nom
													<span class="star">*</span>
												</label>
												<input class="form-control" name="nom" id="nom" type="text" formControlName="nom" required="true"/>
											</div>
											<div class="form-group col-md-4">
												<label class="control-label">type
													<span class="star">*</span>
												</label>
												<input class="form-control" name="type" type="text" formControlName="type" id="type" required="true"/>
											</div>
											<div class="form-group col-md-4">
												<br>
												  <mat-form-field>
													<mat-label>Departements</mat-label>
													<mat-select formControlName="dep">
													  <mat-option *ngFor="let dep of Departements"  [value]="dep.departementId">{{dep.nom}}</mat-option>
													</mat-select>
												  </mat-form-field>
											</div>
										</div>
										<div class="category form-category">
											<span class="star">*</span> Required fields
										</div>
										<div class="text-center">
											<button type="submit" class="btn btn-fill btn-wd" style="background-color: red;">Chercher</button>
										</div>
									</div>
								</form>
							</mat-tab>
						</mat-tab-group>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>